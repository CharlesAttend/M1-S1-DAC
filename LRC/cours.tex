\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[a4paper, margin=2.5cm]{geometry}
\usepackage{graphicx}
\usepackage[french]{babel}

\usepackage[default,scale=0.95]{opensans}
\usepackage[T1]{fontenc}
\usepackage{amssymb} %math
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{systeme}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={LRC},
    % pdfpagemode=FullScreen,
    }
\urlstyle{same} %\href{url}{Text}

\theoremstyle{plain}% default
\newtheorem{thm}{Théorème}[section]
\newtheorem{lem}[thm]{Lemme}
\newtheorem{prop}[thm]{Proposition}
\newtheorem*{cor}{Corollaire}
%\newtheorem*{KL}{Klein’s Lemma}

\theoremstyle{definition}
\newtheorem{defn}{Définition}[section]
\newtheorem{exmp}{Exemple}[section]
% \newtheorem{xca}[exmp]{Exercise}

\theoremstyle{remark}
\newtheorem*{rem}{Remarque}
\newtheorem*{note}{Note}
%\newtheorem{case}{Case}



\title{Logiques et représentations des connaissances}
\author{Charles Vin}
\date{S1-2022}

\begin{document}
\maketitle

\section{Introduction à la logique des propositions et des prédicats du premier ordre}
\begin{defn}[]
    Quelques définitions
    \begin{itemize}
        \item Expression : une description logique. Elle est vrais ou fausse
        \item Meaning : le sens qui relis l'expression vers sa référence
        \item Référence : représente le sens
    \end{itemize}

    Le langage des propositions : 
    \begin{itemize}
        \item Atome 
        \item Connecteur : \begin{itemize}
            \item Binary : $ \vee $ = "ou", $\wedge$ = "et" $\neg$ = négation 
            \item DIAPO
        \end{itemize}
    \end{itemize}

    Table de vérité : \begin{itemize}
        \item Un ligne = une "interprétation"
    \end{itemize}

    Une formule est \begin{itemize}
        \item Satisfiable : si vrais dans une interprétation
        \item Valide : si vrais dans toute les interprétation
        \item Unsatisfiable : faux sur toutes les interprétations
    \end{itemize}

    On peut avoir des fonctions qui représente une expression logique. \begin{itemize}
        \item Un terme représente une fonction qui renvoie un paramètre ou le tuple de paramètre d'une fonction.
        \item Un atome est une fonction qui renvoie un booléen.
    \end{itemize}
    En d'autre mot ça semble être en fonction de ce que la fonction renvoie un booléen ou un paramètre.
    
    Variable est : \begin{itemize}
        \item Liée (muette): Si elle est liée à un quantificateur, on peut donc changé librement son nom tant qu'on le change partout dans la formule
        \item Libre : C'est l'inverse, pas liée à un quantificateur donc libre dans la formule. Par exemple dans la formule $ \exists y, x<y $, la variable x est libre et y est liée. Cette formule représente le fait que “Il existe un nombre plus grand que x”. Au final ici x est en lien avec l'énoncé, il est fixe.
    \end{itemize}

    Diapo interpretation : rien compris

    A formula is "\textbf{valid}" if it is true in \textbf{all} the interpretation of \textbf{all} domains.
    \begin{exmp}[]
        \begin{itemize}
            \item Valide 
            \item DIAPO
        \end{itemize}
    \end{exmp}
    
    Un modèle est un couple $ \mathcal{M} = < \mathcal{D},i> $. Une valuation est une fonction $ v:\mathcal{V} \rightarrow  \mathcal{D} $. $ I_m(F) $ is the truth value. Y'a des propriétés de la truth value dans le DIAPO.

    A est une conséquence sémantique de B si A est vrais pour toutes les interpretations où B est vrais i.e. for all models if $ I_{m \mathcal{V}}(B) $ then $ I_{m \mathcal{V}}(A) $. Exemple $ A \rightarrow B $  est une conséquence sémantique. Je crois que le symbole c'est $ B \models A $ == A conséquence logique de B. 
\end{defn}

\begin{defn}[]
    Un système formel est composé d'un langage formel, un ensemble d'axiom et de règle d'inférence.

    \begin{exmp}[]
        Exemple dans le fiapo avec le système formel de Hilbert. 

        $ \vdash  $ représente une dérivation. On peut prouver A à partir de B.
    \end{exmp}
\end{defn}

\begin{defn}[Théorème]
    Any formula which is derived from the axoms by iteratively applying inference rules is a \textbf{theorem}.\\
    Notation : $ \vdash A $ means A is a theorem \\
    \begin{exmp}[]
        Exemple : $ \vdash (A \rightarrow A) $ 
        \begin{proof}[Preuve: ]
            Voir diapo c'est drôle
        \end{proof}
    \end{exmp}
\end{defn}

\begin{defn}[Démonstration]
    A \textbf{proof} of a theorem A is a finite sequence of formulae $ F_0, ..., F_n $ such that .... DIAPO mais osef un peu
\end{defn}

\begin{defn}[Symbolic system]
    \begin{itemize}
        \item Consistency : Each description of the symbolic system corresponds to an object in the reality i.e. DIAPO
        \item Completeness : each object of the reality can be described in the symbolic system $ \forall A \text{ if } \models A \text{ then } \vdash A$ 
    \end{itemize}
\end{defn}

\subsection{Automatic theorem proving}
\subsubsection{Tableau method}
\begin{enumerate}
    \item Normalisation : Transformation into \textbf{NNF - Negative Normal Form} : \textbf{The negations occurs only before atomic propositions}. i.e il faut développer les négations au max.
    \item Build a tableau : \begin{itemize}
        \item Root : The formula under NNF.
        \item Build successors of T using two rules $ R_{\wedge } $ et $ R_{\vee } $ VOIR LE DIAPO POUR LEUR DEFINITIONS
        \item On arrête lorsque l'on ne peux plus appliquer les règles.
    \end{itemize}
\end{enumerate}
\begin{defn}[]
    Un tableau peut être \begin{itemize}
        \item Contradictory 
        \item ... DIAPO 
    \end{itemize}
\end{defn}
\begin{exmp}[de la methode]
    DIAPO MDR OU YOUTUBE PLUTOT
\end{exmp}

L'avantage de cette méthode par rapport au tableau de vérité c'est qu'on a pas besoin de faire tous les cas possibles.

\paragraph*{Généralisation} Si je comprend bien on peut prendre des raccourcis avec des nouvelles règles. Pour la règles $ \alpha  $ on met dans le même tableau. Pour les règles $ \beta  $ on met dans deux tableaux différents. \textbf{Apprendre les tableau de règles}

\subsubsection{Resolution in propositional logic}
\begin{defn}[Une clause]
    \textbf{Ca tombe à l'exam d'après le prof}
    \begin{itemize}
        \item Un literal is either an atom or its negation
        \item Une clause is a disjunction of literals
    \end{itemize}
    \begin{rem}[]
        A clause is a logical entailment (implication) because $ (\neg A \vee B) $ is equivalent to $ (A \supset B) $ 
    \end{rem}
    \begin{exmp}[]
        $ even(X) \supset odd(successor(X)) $ 
    \end{exmp}
\end{defn}
\begin{thm}[]
    Any claused formula (sans variable libre) $ F $ can be transformed into a logically equivalent conjunction of clauses
    \begin{exmp}[]
        
    \end{exmp}
\end{thm}

\begin{defn}[Règle de résolution]
    S'applique uniquement sur les clauses.
    Pour prouver que $ S \models A $ il suffit de montrer que $ S \cup [neg A] $ est vide. Voir les exemples du DIAPO
\end{defn}

\subsubsection{Unification}
\begin{defn}[Substitution]
    A \textbf{substitution} is characterized by a infinite set of "

    On peut \textbf{composer} plusieurs substitution
\end{defn}
\begin{defn}[term instance]

\end{defn}

\begin{defn}[Pattern Matching]
    The term $ t_1 $ match with the term $ t_2 $ if and only if there exist a substitution $ \sigma  $ such that $ t_1 \sigma = t_2 $ 
\end{defn}
\begin{defn}[Unification]
    The terms $ t_1 $ and $ t_2 $  unify if and only if there exists a substitution $ \sigma  $ such that $ t_1 \sigma = t_2 \sigma  $ 
\end{defn}
\textbf{Pattern matching $\rightarrow$ Unification}

\subsubsection{Resolution in First Oder Logic}

\underline{Nouveau cours du 21/09} \\
\underline{Nouveau cours du 28/09} \\
Pas de diapo au moment du cours

\underline{Nouveau cours du 12/10} \\
\textbf{NOUVEAU PROF}
Modèle Lr : diamond et carré $\Leftrightarrow$ il existe et pour tout 

Modèle de Kripke = ensemble de monde (interprétation ?) . Puis on peut faire un graph sur comment relier les mondes. \begin{itemize}
    \item $ M, w_0\models p \rightarrow q $ c'est faux car dans le monde $ w_0 $ $ p $ est vrais mais $ q $ est faux
    \item $ M, w_0\models \Box p $ est vrais, on regarde si tous les mondes qui parte de $ w_0 $ on $ p $ de vrais.
    \item $ M, w_1 \models (p \vee r) \rightarrow \Box p$ ici on regarde dans $ w_1 $, la prémice de la fleche est vrais car p est vrais dans $ w_1 $, donc $ \Box p $ doit être vrais. On regarde dans $ w_3 $, $ p $ est faux donc l'implication est fausse. En revanche en partant de $ w_0 $ 
    \item $ M, w_2 \models \Box \Box p $ \begin{itemize}
        \item $w_2 \Box p$ \begin{itemize}
            \item $ w_2 p  $ Faux
            \item $ w_1 p  $ Vrais
        \end{itemize}
        \item $w_1 \Box p$ Faux
    \end{itemize}
    \item $ M, w_2 \models \Box \Box q $ Vrais
    \item $ M, w_2 \models \diamond (r \wedge \Box q) $ \begin{itemize}
        \item $ M, w_2 \models (r \wedge \Box Q) $ Vrais 
        \item $ M, w_1 \models (r \wedge \Box Q) $ Faux 
    \end{itemize} $\rightarrow$ VRAIS
\end{itemize}

Diapo 9 : \\
$ M, w \models \phi $ = La formule est statisfaire dans le monde $ w $ du model $ M $. \\
Si pas d'autre monde accessible ? alors $ M, w_1 \models \Box \phi  $ est vrais

Diapo 10 : \\
Loupé bruh

Diapo 12 : \\
Démonstration par l'absurde 

Système normal K (diapo 13): on veut avoir un système de preuve simple, comme celui de Hilbert. On a un axiome sous la forme d'une implication comme pour Hilbert. Mais on simplifie un peu par rapport à Hilbert niveau démonstration, je crois pas l'axiome $ K $ . \\
Déduction (diapo 14) : On a prouvé $ p \rightarrow p \vdash \Box p \rightarrow \Box q $ (dans un univers ou tous les mondes vérifie $ p \rightarrow q $ alors $ \Box p \rightarrow \Box q $). Attention ça n'est pas équivalent a $ \vdash p \rightarrow p \vdash \Box p \rightarrow \Box q$, dans celle là on ne vérifie pas l'HP que tous les mondes on $ p \rightarrow q $. 

Correction et complétude : 
\begin{itemize}
    \item $ \vdash  $ == démonstration dans un monde
    \item $ \models  $ == démonstration dans tous les mondes
    \item Correction : 
    \item Complétude :
    \item $\rightarrow$ Le système $ k $ est correct et complet vis à vis de l'ensemble des modèle de Kripke. 
\end{itemize}

CCL : 
\begin{itemize}
    \item Une formule est satisfiable DIAPO
    \item Non validité : on montre un contre exemple
    \item Insatisfiabilité : 
    \item Validité : \begin{itemize}
        \item par raisonnement sémantique
        \item Avec la méthode des tableau et $ \lnot \phi  $ UNSAT
        \item Un dernier truc pas compris
    \end{itemize}
\end{itemize}

\begin{exmp}[]
    Montrer que $ \Box \phi \rightarrow \Box \Box \phi  $ n'est pas valide. \\
    $\Rightarrow$ Contre exemple : voir diapo 18
\end{exmp}

Théorie de la correspondance : 
\begin{itemize}
    \item C'est une série d'axiome 
    \item Preuve de la réflexivité dans le DIAPO
    \item Sérialité : globalement on kick out les monde sans fleche 
    \item Transitivité : "Si quelque chose est vrais à un pas de distance, alors il est vrais à deux pas de distance également"
    \item Euclidienne : "Si je crois possible que phi, je sais que je crois possible de phi"
    \item Symétrie : 
\end{itemize}

\underline{Nouveau cours du 19/10} \\
On peut booster les modèle de Kripte en rajoutant des labels au flèche. Dans cette logique on écrit $ \Box  $ comme "sait". On peut l'écrire vite avec $ K_2p \Leftrightarrow K_2 \Box p $.

Diapo 2 \\
\begin{itemize}
    \item .
    \item .
    \item $ M, w_1 \models  K_2 K_1 p $ assez space, je crois que ça se traduit bien avec "l'agent 2 sait que l'agent un sait p.
    \item $ M, w_1 \models K_2 K_1 \lnot p $ 
    \item $ M, w_1 \models K_2 \lnot K_1 $ Est-ce que l'agent 2 sait que l'agent 1 ne sait pas p. On regarde les mondes accessible par l'agent 2 : $ w_1, w_2 $. Dans $ w_1 $ l'agent 1 ne sais pas p (on regarde $ w_1, w_0 $ ). Dans $ w_2 $ l'agent 1 sait p. donc on a un faux et un vrais ce qui donne faux
    \item $ M, w_1 \models K_1 \lnot K_2 p $ ça va 
    \item $ M \models K_2 p $ ça va
\end{itemize}

Diapo après : Exemple d'application 

Diapo 7 : 3 axiomes important qui forme le système S5

Diapo 12 : différence "je sais que" je sais la chose VS "je sais si" = je sais la chose ou je ne sais pas la chose. le $ K_p^{si} $ c'est comme un où

Diapo 13 : 
\begin{itemize}
    \item $ M, w_1 \models K_1 K_2^{si}p $ 
    \item $ M, w_1 \models K_2 K_1^{si}p $ faux, mais si on prend $ B_2K_1^{si} p$ fonctionne, $ B_2K_1p$ fonctionne, $ B_2K_1\lnot p$ ne fonctionne pas
\end{itemize}

Diapo 14-15 : 
\begin{exmp}[]
    On a 6 mondes possible. On suppose les boucles sur eux même chaque monde (réflexivité)
    \begin{itemize}
        \item .
        \item $ M, w_2 \models (2B \vee 2C) $ $ w_2 \rightarrow w_2, w_1 $ puis on regarde $ 2B \vee 2C $ 
        \item .
        \item $ M \models \lnot K_2 1A $ est-ce que dans tous les monde l'agent 2 ne sait pas que j'agent 1 à reçu A. L'agent 2 ne sais jamais la carte du joueur 1. 
        \item $ M \models B_2 1A $ contre exemple : $ w_0, w_5 $ 
        \item $ M \models K_2 2A \vee B_2 1A $ On peut utiliser le cas précédant. Vrais
        \item $ M \models 1A \rightarrow K_1(2B \vee 2C) $ Rapide à vérifier avec l'implication, on regarde les mondes $ 1A $ et c'est vrais, on l'a vérifié 2 et 3.
    \end{itemize}
\end{exmp}

Diapo 16 : Le problème de l'omniscience logique, paragraphe du millier, en faite c'est un hypothèse très forte, parce que $ K_i \phi  $ alors $ K_i $ connaît toute les conséquence logique de $ \phi  $. C'est assez fort de savoir toute les implications de ce qu'on sait.

Diapo 17 : Complexité : assez forte si je comprend bien

Diapo 19-20-21 : on peut avoir une équivalence entre deux modèles de Kripte. Y'a une définition formel appelé bi-simulation. Exemple dans le diapo 21

\underline{Nouveau cours du 26/10} \\
\begin{itemize}
    \item $ E_G \phi $ = tout le groupe $ G $ sait que $ \phi  $
    \item Diapo 5 : def G-atteignable 
    \item Diapo 6 : Connaissance distribuée : On peut déduire $ \phi  $ en combinant les connaissances des agents du groupe $ G $. On regarde l'intersection de toutes les connaissances pour tous les agents. exemple : l'agent 1 sait que la solution est 1 ou 2, l'agent 2 sait que la solution c'est 2 ou 3 $\rightarrow$ La solution est 2. Voir figure \ref{exmp1}.
    \item Diapo 7 : propriété assez instinctive : on ajoute ou retire des gens du groupe
\end{itemize}
\begin{figure}[htbp]
    \centering
    \includegraphics*[width=.5\textwidth]{./exmp1.jpg}
    \caption[]{c'est réflexif}
    \label{exmp1}
\end{figure}

Diapo 8 : exemple
\begin{enumerate}
    \item On regarde tous les mondes atteignable depuis $ w_2 $ par un des membres du groupe $ G = \{1,2\}$. C'est à dire tous les mondes de la structure. Et on a toujours $ 1A \vee 1B \vee 1C $ donc c'est vrais
    \item Vrais
    \item On regarde les flèches avec 1 et 2 partant de $ w_2 $, ici il n'y a que $ w_2 $ par réflexivité. et la formule ici est vrais.
    \item On doit vérifier si tous les membres du groupe savent que $ \not  1B $ Vrais
    \item Faux
\end{enumerate}
Diapo 9 : Notion d'annonce publique 
\begin{itemize}
    \item Ca a pour effet d'éliminer tous les mondes ou $ \phi  $ est faux
\end{itemize}
Diapo 10-11 : Retour sur coffee logic 
\begin{itemize}
    \item On vas regarder ce qui se passe avec les annonces publique avec 3 agents
    \item La réponse de la première personne vas faire disparaître la moitié des mondes. Ceux qui commence ou ne commence pas par un 1.ect ect
\end{itemize}

Diapo 13-14 : exemple enfant sale
\begin{enumerate}
    \item On regarde tous les monde avec la coordonnée 2 à 1. Puis $ p_2 $ est vrais dans tous les monde accessible par l'agent 1. 
    \item On regarde tous les monde accessible à partir de 101 que je peux atteindre en un arc. Et dans chacun de ces mondes, il y a au moins un enfant sale. Donc tout le monde sait qu'il y a au moins un enfant qui est sale.
    \item Non à cause du monde 000  
    \item Faux dans plein de monde de ma structure
    \item On veux que ça soit vrais dans toute la structure
    \item Il est bien vrais à chaque fois que j'ai soit $ p_1 $ soit $ \not p_1 $ 
\end{enumerate}

Diapo 15 : avec annonce publique
\begin{itemize}
    \item On prend le monde 101 comme le vrais monde
    \item Le père annonce l'un de vous est sale. $\rightarrow$ Le monde 000 devient impossible. \item Ainsi si mes deux camarades sont propre, je sais que je suis sale. $\rightarrow$ on peut éliminer tous ces mondes si les 3 enfants ne réponde pas.
    \item Nouvelle annonce publique : Est-ce que l'un de vous sait si il est sale ?
    \item Si je vois que les deux autres enfants sont sale, je ne peux toujours pas répondre à la question. L'enfant 1 et l'enfant 3 réponde oui $\rightarrow$élimine les monde 111, 110, 011
    \item Il ne reste plus que le monde 101
\end{itemize}

Diapo 16 : Sujet d'exam d'il y a quelques années
\begin{itemize}
    \item L'épicier est capable de distinguer le poids des sphères et le magicien la magique.
    \item On a 6 mondes possibles
    \item Sur le graph, on peut voir que le magicien hésite entre tous les mondes ou il a la sphère magique et tous les mondes où il n'a pas la sphère. Same pour l'épicier.
\end{itemize}
On a des annonces publique, quel monde éliminer.
\begin{enumerate}
    \item "Epicier : Je ne sais pas que j'ai la sphère magique" On n'élimine aucun monde, l'épicier hésite toujours entre deux monde où il a ou pas la sphère magique.
    \item "Epicier : Je sais que j'ai obtenu la sphère de 130 numéros 3" $\rightarrow w_3, w_4, w_0$ et $ w_1 $ aussi car l'épicier hésite quand même avec le monde $ w_3 $ 
    \item "Magicien : Je sais que je n'ai pas la sphère magique" 
    \item Pour la question d'opti pour le roi : \begin{itemize}
        \item Commencer par le magicien est une mauvaise idée, ça élimine 3 mondes en haut ou en bas puis l'épicier n'hésite entre plus aucun des mondes (car il hésitait entre ceux du haut et du bas) et hop ils peuvent conclure
        \item Si on fait d'abord parler l'épicier : \begin{itemize}
            \item Avec un packet de 250g : $ w_2, w_5 $ donc il sait qu'il a la sphère de 130, 
            \item Avec un packet de 230 : l'épicier est sur qu'il a la sphère de 110g (1)
            \item Avec un packet de 240g : l'épicier ne sais pas si il a la sphère de 110, et ne sais pas si il a la sphère de 130g : $ w_1 $ ou $ w_3 $ mais il sont indistinguable par l'épicier. Et il reste encore 4 mondes possibles : $ w_0, w_1, w_3, w_4 $. Et là le magicien ne peux pas distinguer. 
        \end{itemize}
    \end{itemize}
\end{enumerate}
Diapo 19 : 
\begin{itemize}
    \item Remarque que, si il y a coopération, il y a une information plus informative
    \item Mais c'est au delà de ce que la modèlisation nous permet de faire.
\end{itemize}

Diapo 20 : Nouvelle Énigmes
\begin{itemize}
    \item Correction en TME
\end{itemize}

Diapo 22-25 : Autre énigme : EXAM 2018-2019
\begin{itemize}
    \item Initialement avec 140 mondes 
    \item Avec l'annonce de A, on tombe à 20 
\end{itemize}

Diapo 23 : Les cartes russes 
\begin{itemize}
    \item 
\end{itemize}


\end{document}